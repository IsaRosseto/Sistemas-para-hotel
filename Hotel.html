<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<title>Hotelaria</title>

</head>


<body>

<!--<div class="container">
	<div class="box">
		<h1> O melhor serviço de Hoteis para voce </h1>
	</div>
</div>
-->

</body>


<script>
	
	// entrar no sistema
	var nome_do_hotel = prompt("Seja bem vindo(a). Qual o nome do hotel?");
		alert("O nome do hotel é " + nome_do_hotel);
		var nome_do_usuario = prompt("Qual o seu nome?"); 
		verifica_senha();


	/// validar senha 2678
		function verifica_senha() {
			const senha = 2678;
			if (prompt("Informe a senha") == senha) {
				inicio();
			} else {
				alert("Senha incorreta")
				verifica_senha();
			}
		}

	/// Bem vindo
	alert("Bem-Vindo ao " + nome_do_hotel + ", " + nome_do_usuario + ". É um imenso prazer ter você por aqui");	


	/// escolher o que deseja fazer
	function inicio() {

			let escolha = parseInt(prompt('Selecione uma opção\n1.) Reserva de Quartos\n2.) Cadastro de Hóspedes\n3.) Reserva para Eventos\n4.) Abastecimento de Carros\n5.) Manutenção do Ar-condicionado\n6.) Sair'));

			switch (escolha) {
				case 1:
					reserva_de_quartos();
					break;
				case 2:
					cadastro_de_hospedes();
					break;
				case 3:
					reserva_evento();
					break;
				case 4:
					abastecer_carros();
					break;
				case 5:
					manutencao_do_arcondicionado();
					break;
				case 6:
					sair();
					break;
				default:
					erro();
			}
		}

	///Reservar um quarto
		function reserva_de_quartos() {
			alert('Bem-vindo a área de Reserva de Quartos do Hotel '+ nome_do_hotel );
			var valor_da_diaria = parseFloat(prompt("Qual o valor da diaria?"));

				///condição caso o valor for negativo
				if (valor_da_diaria <= 0) {
				alert('Valor inválido ' + nome_do_usuario + ', tente novamente');
				var valor_da_diaria = parseFloat(prompt("Qual o valor da diaria?"));
				}
			
			var quantidade_de_diarias = parseFloat(prompt("Quantas diárias serão necessárias?"));

				///condição caso o valor passar de 30 dias ou for menor ou igual 0
				if (quantidade_de_diarias  > 30 ) {
				alert('O numero maximo de diarias no Hotel ' + nome_do_hotel + ' é de 30 dias');
				var quantidade_de_diarias = parseFloat(prompt("Quantas diárias serão necessárias?"));
				} else if (quantidade_de_diarias <= 0) {
				alert('Numero inválido '+ nome_do_usuario + ', tente uma quantidade maior que 0');
				var quantidade_de_diarias = parseFloat(prompt("Quantas diárias serão necessárias?"));
				}
 
			var matematica_de_diarias = (valor_da_diaria ) * (quantidade_de_diarias);
			alert ('O valor total de ' + quantidade_de_diarias + ' diarias é de ' + matematica_de_diarias);


			var nome_do_hospede = (prompt("Qual o nome do hóspede ?"));


			var confirmaçao = (prompt(nome_do_usuario + ', Você confirma a hospedagem de ' + nome_do_hospede + ' por ' + quantidade_de_diarias + ' dias ? S/N'));
			/// condição de resposta da reserva -SIM OU NÃO-
			if (confirmaçao == "Sim" || confirmaçao == "s" || confirmaçao ==  "Sim" ) {
				alert ( nome_do_usuario + " , reserva efetuada com sucesso para " + nome_do_hospede + ". O valor total é de " + matematica_de_diarias + "." );
			inicio();
			} else if (confirmaçao == "Não" ||confirmaçao ==  "n" || confirmaçao ==  "N" || confirmaçao ==  "nao" ) {
				alert ( nome_do_usuario +", reserva não efetuada")
			}
			inicio();
		}


    /// cadastrar hospedes no sistema
		function cadastro_de_hospedes() {
			alert('Bem-vindo a área de Cadastro de hóspedes do Hotel '+ nome_do_hotel );

            var lista_hospedes = [];
			
			function sistema_cadastrar_hospedes() {

				var escolha_hospedes = parseInt(prompt('Cadastro de Hóspedes\n\n Selecione uma opção: \n1. Cadastrar \n2. Pesquisar \n3. Sair'));

				if (escolha_hospedes === 1) {
					cadastrar_hospedes();
				} else if (escolha_hospedes === 2) {
					pesquisar_hospedes();
				} else if (escolha_hospedes === 3) {
					inicio();
				} else {
					erro_pesquisar_hospedes();
				}
			}
			


			function cadastrar_hospedes() {
                var gratuidade = 0;
                var quantidade_de_hospede = 0;
				var inteira = 0;
				var total_hospedagem = 0;
				var meia_diaria= 0;
                const encerrar_cadastro = "PARE";


                /// sobre valores
                /// não pode valor negativo zé
                var valor_diaria_cadastro = parseFloat(prompt("Qual o valor da diária?"));
                while (valor_diaria_cadastro < 0) {
                    alert("Insira um valor válido");
                    valor_diaria_cadastro = parseFloat(prompt("Qual o valor da diária?"));
                }


                /// cadastro 
                var nome_hospede = (prompt("Qual o nome da(o) hóspede? Se preferir encerrar o cadastro de hóspedes escreva PARE"));


                ///paga inteira, meia ou nada?
				while (nome_hospede != "PARE") {     											//Quando o nome do hospede for diferente de PARE

                var idade_do_hospede = (prompt("Qual a idade da(o) hóspede?"));

                if (idade_do_hospede <= 6) {													// Menor de 6 não paga nada 
                alert ( nome_hospede + " cadastrado(a) com sucesso. " + nome_hospede + " possui gratuidade");
                    gratuidade++;
					quantidade_de_hospede++;
					var nome_hospede = (prompt("Qual o nome da(o) hóspede? Se preferir encerrar o cadastro de hóspedes escreva PARE"));


                } else if (idade_do_hospede >= 60) { 											// Maior de 60 só paga meia
                    alert ( nome_hospede + " cadastrado(a) com sucesso. " + nome_hospede + " O hóspede paga meia.");
                    meia_diaria++;
                    quantidade_de_hospede++;
					total_hospedagem += valor_diaria_cadastro /2;
					var nome_hospede = (prompt("Qual o nome da(o) hóspede? Se preferir encerrar o cadastro de hóspedes escreva PARE"));


                } else if ( idade_do_hospede < 0 || isNaN (idade_do_hospede)) { 				// Numero invalido
                    alert ( "Insira uma idade válida");
                    var idade_do_hospede = parseInt(prompt("Qual a idade da(o) hóspede?"));


                } else { 																		// se não tem condição especial , paga inteira e continua 
                    alert ( nome_hospede + " cadastrado(a) com sucesso");
                    quantidade_de_hospede++;
					inteira++
					total_hospedagem += valor_diaria_cadastro
					var nome_hospede = (prompt("Qual o nome da(o) hóspede? Se preferir encerrar o cadastro de hóspedes escreva PARE"));

                }
			}

				/// Condiçoes para cadastrar mais e mais 
                if (lista_hospedes.length >= 15){
					alert("Numero máximo de hóspedes cadastrados.");
				} else if (nome_hospede == encerrar_cadastro) {
                    var total_hospedagem = (valor_diaria_cadastro) * (quantidade_de_hospede);
					alert (nome_do_usuario + ", o total da hospedagem é : R$ " + total_hospedagem + " ; sendo " + inteira + "inteira ," + gratuidade + " gratuidade(s) e " + meia_diaria + "meia(s) ." );
				} 

				sistema_cadastrar_hospedes();
			}



		/// colocar nomes na lista
		function inserir_hospedes() {
			// lenght é uma propriedade que retorna a quantidade de itens dentro do array. 
			if (lista_hospedes.length >= 15) {
				alert("Numero máximo de hóspedes cadastrados.");
			} else {
				var nome_hospede = (prompt("Qual o nome da(o) hóspede? Se preferir encerrar o cadastro de hóspedes escreva PARE"));
				// O método push() permite adicionar um item ao Array/Vetor. Importante dizer que ele adiciona o elemento ao final do Array/Vetor. 
				lista_hospedes.push(nome_hospede);
				console.log(lista_hospedes); // O console é usado apenas para exibir ao desenvolvedor todo mundo que já está cadastrado.
				alert("Sucesso! Hóspede " + nome_hospede + " foi cadastrada(o) com sucesso!\n");
			}
			sistema_cadastrar_hospedes();
		}
			

		///Pesquisar

				function pesquisar_hospedes() {
				alert ("Pesquisa de Cadastro")
				var nome_hospede = prompt('Por favor, informe o nome da(o) hóspede para pesquisa:');
				// O método includes() procura por um elemento dentro do Array e retorna verdadeiro ou falso. Caso queira comparar números, o mais indicado é o método find();
				if (lista_hospedes.includes(nome_hospede)){
					alert(nome_hospede + ' encontrada(o).')
				} else {
					alert(nome_hospede + ' não foi encontrada(o).')
				}
				
			sistema_cadastrar_hospedes() 
			}
			

			
			function erro_pesquisar_hospedes(){
				alert('Por favor, informe um número entre 1 e 3');
				sistema_cadastrar_hospedes();
			}
			
			sistema_cadastrar_hospedes();
		

		}

		/// nova aba

		function reserva_evento () {
    alert ('Bem-vindo (a) a área de abastecimento de Reservars do Hotel' + nome_do_hotel);
    
    var reservaroque = parseInt(prompt('Selecione uma opção \n\n 1- Reserva de Evento \n 2- Reserva do Restaurante'));

    switch (reservaroque) {
        case 1:
            reserva_evento()
            break;
        case 2:
            reserva_restaurante()
            break;
        default:
            errado()
            break;
    }

    function reserva_evento() {
        alert ('Bem-vindo (a) a área de eventos do hotel '+ nome_do_hotel);

        var duracao = parseInt(prompt('Qual a duração do evento?'));

        var custo_hora_garcom = 10.50 ;

        var quantidade_de_garcom = parseInt(prompt('Quantos garçons serão necessários ?'));

        var custo_1_garcom = duracao * custo_hora_garcom;

        var total_garcom = custo_1_garcom * quantidade_de_garcom;
        
        alert ('Custo total: R$' + total_garcom);

        var confirmar_reserva = confirm ('Você confirma a reserva?')
        if (confirmar_reserva) {
            alert (nome_do_usuario + ', reserva efetuada com sucesso!');
        } else {
            alert (nome_do_usuario + ', reserva não efetuada.')
        }
		buffet();
	}
    
	function buffet () {
            var convidados = parseInt(prompt('Qual a quantidade de conidados para o evento?'));
            var valor_cafe = 0.80;
            var valor_agua = 0.40;
            var valor_salgados = 0.34;

            var quantidade_de_café = convidados * 0.20;
            var quantidade_de_agua = convidados * 0.50;
            var quantidade_de_salgado = convidados * 7;

            var custo_total = (quantidade_de_café * valor_cafe) + (quantidade_de_agua * valor_agua) + (quantidade_de_salgado* valor_salgados);


            if(convidados > 350){
                alert("Quantidade de convidados superior à capacidade máxima.");
            } else{
                alert("O evento precisará de " + quantidade_de_café + " litros de café, " + quantidade_de_agua + " litros de água, " + quantidade_de_salgado + " salgados. O custo total do evento será de R$ " + custo_total );
            }

            
            var confirma = prompt("Gostaria de efetuar a reserva? S/N");

            if (confirma == "s") {
                alert(nome_do_usuario + " , reserva efetuada com sucesso.");
            } else if (confirma == "n"){
                alert(nome_do_usuario + " , reserva não efetuada");
            }

            auditorio();
}   
	
		function auditorio () {
	alert ("Hora de escolher o espaço do seu evento!");
    var convidados = prompt("Qual o número de convidados para o seu evento?");
    var cadeiras_extras= convidados-150 ;
    

    if (convidados > 350) {
        alert("Quantidade de convidados superior à capacidade máxima");
        auditorio();
    } else if (convidados <= 350) {
        alert("Use o auditório Colorado");
    } else if (convidados <=150) {
        alert("Use o auditório Laranja");
    } else if (convidados >220) {
        alert("Use o auditório Laranja");
    } else if (convidados >150 && convidados<=220) {
    alert ("Use o auditório Laranja com " + cadeiras_extras+ " cadeiras extras.");
    } else {
        alert( "Numero de convidados inválido");
        auditorio();
    }

        var confirma = prompt("Gostaria de efetuar a reserva? S/N");

        if (confirma == "s") {
            alert(nome_do_usuario + " , reserva efetuada com sucesso.");
            inicio();
        } else if (confirma == "n"){
            alert(nome_do_usuario + " , reserva não realizada");
            reserva_evento();
        }    }
	}

///////////////// nova escolha

	function reserva_restaurante() {

	var diasemana = prompt('Qual dia da semana vai ocorrer o seu evento?')

	switch (diasemana) {

	case 'segunda':
		dia_de_semana()
		break;
	case 'terça':
		dia_de_semana()
		break;
	case 'quarta':
		dia_de_semana()
		break;
	case 'quinta':
		dia_de_semana()
		break;
	case 'sexta':
		dia_de_semana()
		break;

	case 'sabado':
		fim_de_semana()
		break;
	case 'domingo':
		fim_de_semana()
		break;
	default:
		diaerrado()
		break;
}

	function dia_de_semana() { // O restaurante em dia de semana funciona das 07:00 ás 23:00
		var hora = parseInt(prompt('Qual a hora do seu evento?'));
		if (hora < 7 || hora > 23) {
		alert('Restaurante indisponível');
		}
		else {
		var nome_da_empresa = prompt('Qual o nome da empresa?');
		alert('Restaurante reservado para ' + nome_da_empresa + '. ' + diasemana + ' às ' + hora + ' horas')
		}

}
	function fim_de_semana() { // O restaurante no final de semana funciona das 07:00 até as 15:00
		var hora = parseInt(prompt('Qual a hora do seu evento?'));
		if (hora < 7 || hora > 15){
		alert('Restaurante indisponível');
		inicio ()
		} else {
		var nome_da_empresa = prompt('Qual o nome da empresa?');
		alert('Restaurante reservado para ' + nome_da_empresa + '. ' + diasemana + ' às ' + hora + ' horas');
		}
	}	
	inicio()
}

//////////////////abastecer carro

	function abastecer_carros () {
	alert ('Bem-vindo (a) a área de abastecimento de carros do Hotel ' + nome_do_hotel);

//posto Wayne Oil
var alcoolWayne = parseFloat(prompt("Qual o valor do álcool no posto Wayne Oil?"));
var gasolinaWayne = parseFloat(prompt("Qual o valor da gasolina no posto Wayne Oil?"));

//posto Stark Petrol
var alcoolStark = parseFloat(prompt("Qual o valor do álcool no posto Stark Petrol?"));
var gasolinaStark = parseFloat(prompt("Qual o valor da gasolina no posto Stark Petrol?"));
var diferenca = 0;

// Regra de 3
var diferenca1 = (alcoolWayne * 100) / gasolinaWayne -100;
var diferenca2 = (alcoolStark * 100) / gasolinaStark -100;

if (diferenca1 >= 30 || diferenca2 >= 30) {
    if (diferenca1 < diferenca2) {
    alert (nome_do_usuario + ', sai mais em conta abastecer com álcool no posto Wayne Oi');
    } else {
    alert (nome_do_usuario + 'sai mais em conta abastecer com álcool no posto Stark Petrol');
    }
	inicio();
}
else {
    if (gasolinaWayne < gasolinaStark) {
        alert (nome_do_usuario + 'é mais barato abastecer com gasolinha no posto Wayne Oil.');
    }else {
        alert (nome_do_usuario + 'é mais barato abastecer com gasolina no posto Stark Petrol')
    }
}
inicio ();

}


/// ar condicionado

function manutencao_do_arcondicionado () {
    alert ("Bem vindo(a) a área de manuntenção de ar condicionado do Hotel " + nome_do_hotel);

   
    var empresa = prompt('Qual o nome da empresa?');
    var valor_por_aparelho = parseInt(prompt('Qual o valor por aparelho?'));
    var quantidade_de_aparelhos = parseInt(prompt('Qual a quantidade de aparelhos?'));
    var porcentagem_do_desconto = parseInt(prompt('Qual a porcentagem de desconto?'));
    var quantidade_minima_desconto = parseInt(prompt('Qual o número mínimo de aparelhos para conseguir o desconto?'));

    var total_empresa = valor_por_aparelho * quantidade_de_aparelhos;
    var aparelho_com_desconto = valor_por_aparelho - porcentagem_do_desconto

    if (quantidade_de_aparelhos >= quantidade_minima_desconto) {
        alert ("O serviço da empresa " + empresa + " custará R$ " + aparelho_com_desconto * quantidade_de_aparelhos);
    } else {
        alert ("O serviço da empresa " + empresa + " custará R$ " + total_empresa)
    }

    var novos_dados = confirm(nome_do_usuario+ ', deseja informar novos dados? ' );

			if (novos_dados) {
            var empresa2 = prompt('Qual o nome da empresa?');
            var valor_por_aparelho2 = parseInt(prompt('Qual o valor por aparelho?'));
            var quantidade_de_aparelhos2 = parseInt(prompt('Qual a quantidade de aparelhos?'));
            var porcentagem_do_desconto2 = parseInt(prompt('Qual a porcentagem de desconto?'));
            var quantidade_minima_desconto2 = parseInt(prompt('Qual o número mínimo de aparelhos para conseguir o desconto?'));

            var total_empresa2 = valor_por_aparelho2 * quantidade_de_aparelhos2;
            var aparelho_com_desconto2 = valor_por_aparelho2 - porcentagem_do_desconto2;

    if (quantidade_de_aparelhos2 >= quantidade_minima_desconto2) {
        alert ("O serviço da empresa " + empresa2 + " custará R$ " + aparelho_com_desconto2 * quantidade_de_aparelhos2);
    } else {
        alert ("O serviço da empresa " + empresa2 + " custará R$ " + total_empresa2)
    }
			if (total_empresa > total_empresa2) {
				alert('O orçamento de menor valor é o ' + empresa + ' por R$' + total_empresa);
			} else {
				alert('O orçamento de menor valor é o ' + empresa2 + ' por R$' + total_empresa2);
			}
        }

			inicio()

		}






		function erro() {
			alert('Por favor, informe um número entre 1 e 4');
			inicio();
		}

		function sair() {
			var confirma = confirm('Você deseja sair?');
			if (confirma) {
				window.close();
			} else {
				inicio();
			}
		}

			
</script>


</html>